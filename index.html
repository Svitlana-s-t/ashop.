<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <h1 id="heading">Остров сокровищ!</h1> 
   <img src="map.webp" alt=""id="map"width="400" height="400">
   <p id="distance"></p></p>
   <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
   <script>
       // Получить случайное число
       let getRundomNum = function (size) { 
           return Math.floor(Math.random() * size);
       }
       
       // Вычислить расстояние от клика (event) до клада (target)
       let getDistance = function (event, target) {
           let diffX = event.offsetX - target.x;
           let diffY = event.offsetY - target.y;
           return Math.sqrt((diffX * diffX) + (diffY * diffY));
       };
       //Получить сообщение о расстояние
       let getDistanceMsg = function(distance) {
           if (distance <10) 
            return "ВЫ очень рядом!";
         else if (distance < 20){
             return "Почти рядом!";
         }else if (distance<100){
             return "Ну почти!";
         }else if (distance<100) {
             return "Далековато!";
         }else if (distance < 320) {
             return "Вы очень далеко!";
         }
       } 
       
       // Создаем переменные
       let width = 400;
       let height = 400;
       let clicks = 0;
       // Случайная позиция клада
       let target = {
           x: getRandomNum(width),
           y: getRandomNum(height),
       };
       // Добавляем элементу img обработчик клика
       $("#map").click(function (event) {
           clicks++;
           let distance = getDistance(event, target);
           let distanceMsg = getDistanceMsg(distance);
           $('#distance').text(distanceMsg);
           if (distance < 8) {
               alert("Победа! Сделано кликов: " + clicks);
           }
       });
   </script>
</body>
</html>